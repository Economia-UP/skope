theme_ipsum_rc(base_family = "Rubik")
# Fetch the data using the specified series IDs
idSeries <- c("SR14195", "SR14196","SR14197")
# Get the data
series <- getSeriesData(idSeries)
rm(list=ls())
library(siebanxicor)
library(tidyverse)
library(hrbrthemes)
font_add_google("Rubik", "Rubik")
showtext_auto()
setToken("86d02771fd6b64ce29912469f70d872cf666627201a5d7e819a82c452ae61289")
# Fetch the data using the specified series IDs
idSeries <- c("SR14195", "SR14196","SR14197")
# Get the data
series <- getSeriesData(idSeries)
med <- getSerieDataFrame(series, "SR14195")
first <- getSerieDataFrame(series, "SR14196")
third <- getSerieDataFrame(series, "SR14197")
series.df <- reduce(list(first, med, third), full_join, by = "date") %>%
filter(date >= Sys.Date() - years(1))
colnames(series.df)[2:4] <- c("Primer cuartil", "Mediana", "Tercer cuartil")
series.long <- series.df %>%
pivot_longer(
!date,
names_to = "index",
values_to = "value"
) %>%
mutate(index = factor(index, levels = c("Primer cuartil", "Mediana", "Tercer cuartil")))
View(series.df)
View(series.df)
View(series.df)
View(series.df)
View(series.df)
View(series.long)
ggplot(series.long, aes(value, -date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, arrange(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
# scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
?scale_y_reverse
series.long <- series.df %>%
pivot_longer(
!date,
names_to = "index",
values_to = "value"
) %>%
mutate(index = factor(index, levels = c("Primer cuartil", "Mediana", "Tercer cuartil"))) %>%
mutate(date = fct_rev(as.factor(date)))  # Invierte el orden de las fechas
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
# scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = month()
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = month(date)
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = month(as.Date(date))
) +
theme_ipsum_rc(base_family = "Rubik")
series.long <- series.df %>%
pivot_longer(
!date,
names_to = "index",
values_to = "value"
) %>%
mutate(index = factor(index, levels = c("Primer cuartil", "Mediana", "Tercer cuartil"))) %>%
arrange(desc(date))  # Ordena la fecha de mayor a menor
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
View(series.long)
View(series.long)
View(series.long)
View(series.long)
View(series.long)
veiw(seires.long)
series.long <- series.df %>%
pivot_longer(
!date,
names_to = "index",
values_to = "value"
) %>%
mutate(index = factor(index, levels = c("Primer cuartil", "Mediana", "Tercer cuartil"))) %>%
arrange(date) # Ordena la fecha de mayor a menor
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, arrange(date, value), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_discrete(limits = rev(unique(series.long$date))) +  # Reverse date order
theme_ipsum_rc(base_family = "Rubik")
series.long <- series.df %>%
pivot_longer(
!date,
names_to = "index",
values_to = "value"
) %>%
mutate(index = factor(index, levels = c("Primer cuartil", "Mediana", "Tercer cuartil")))
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_discrete(limits = rev(unique(series.long$date))) +  # Reverse date order
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse()
ggplot(series.long, aes(value, as.character(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, as.numeric(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, as.numeric(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = as.Date(date)
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, as.numeric(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = date
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, as.numeric(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "date"
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, as.numeric(date), color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_reverse() +
theme_ipsum_rc(base_family = "Rubik")
?scale_y_date
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 2) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_date() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_date() +
theme_ipsum_rc(base_family = "Rubik")
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = ""
) +
scale_y_date() +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_y_date() +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_color_manual("green", "yellow", "red") +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_fill_manual("green", "yellow", "red") +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_color_manual("green", "yellow", "red") +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_color_manual(values=c("green", "yellow", "red")) +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = ""
) +
scale_color_manual(values=c("#009076", "#ffe59c", "#c71e1d")) +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
caption = paste("Fuente: Banxico. Última actualización", format(Sys.time(), '%d %b, %Y')
x = "",
ggplot(series.long, aes(value, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = "",
caption = paste("Fuente: Banxico. Última actualización", format(Sys.time(), '%d %b, %Y'))
) +
scale_color_manual(values=c("#009076", "#ffe59c", "#c71e1d")) +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
ggplot(series.long, aes(value/100, date, color = index, group = date)) +
geom_line(color = "grey", linewidth = 1) +
geom_point(size = 3) +
labs(
title = paste("Expectativas de inflación", year(Sys.Date())),
subtitle = "Encuestas Sobre las Expectativas de los Especialistas en Economía del \nSector Privado Expectativas de Inflación para los Próximos 12 Meses",
x = "",
y = "",
color = "",
caption = paste("Fuente: Banxico. Última actualización", format(Sys.time(), '%d %b, %Y'))
) +
scale_x_percent() +
scale_color_manual(values=c("#009076", "#ffe59c", "#c71e1d")) +
theme_ipsum_rc(base_family = "Rubik") +
theme(
legend.position = "bottom"
)
# Load the necessary libraries
library(inegiR)
library(tidyverse)
